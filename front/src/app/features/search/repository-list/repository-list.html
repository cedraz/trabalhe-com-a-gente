<div class="border border-gray-700 rounded-md">
  <div class="px-5 py-3 border-b border-gray-700">
    <h3 class="text-xl font-semibold">{{ totalResults }} resultados</h3>
  </div>

  <div class="divide-y divide-gray-700">
    @for (repo of repositories; track repo.id) {
      <div class="px-5 py-4">
        <div class="flex items-center gap-2">
          <img [src]="repo.owner.avatar_url" alt="{{ repo.owner.login }}" class="h-6 w-6 rounded-full">
          <a [href]="repo.html_url" target="_blank" class="text-blue-400 hover:underline text-lg">
            <span>{{ repo.owner.login}}</span>/<span class="font-semibold">{{repo.name}}</span>
          </a>
        </div>
        <p class="mt-1 text-sm text-gray-400">{{ repo.description }}</p>
        <div class="mt-3 flex items-center gap-4 text-xs text-gray-500">
          @if(repo.language){
            <span class="flex items-center gap-1">
              <span>{{ repo.language }}</span>
            </span>
          }
          <span class="flex items-center gap-1">
            <ng-icon name="heroStar" class="text-[16px]" />
            <span>{{ repo.stargazers_count }}</span>
          </span>
          <span>Atualizado em {{ repo.updated_at | date:'mediumDate' }}</span>
        </div>
      </div>
    } @empty {
      <p class="px-5 py-4 text-gray-400">Nenhum resultado para exibir.</p>
    }
  </div>

  @if (repositories.length > 0) {
    <div class="px-5 py-3 border-t border-gray-700 text-center">
      <button
      (click)="previousPage()" [disabled]="currentPage <= 1"
       class=" bg-gray-800 hover:bg-gray-700 text-gray-300 font-bold py-2 px-4 rounded-l-xl">
        Anterior
      </button>

      <span class="mx-2 text-gray-400">Página {{ currentPage }} de {{ totalPages }}</span>

      <button (click)="nextPage()" class=" bg-gray-800 hover:bg-gray-700 text-gray-300 font-bold py-2 px-4 rounded-r-xl">
        Próxima
      </button>
    </div>
  }
</div>
